<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Aurora â¤ï¸</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<canvas id="fireworks"></canvas>
<canvas id="hearts"></canvas>

<!-- ================= PANTALLA INICIAL ================= -->
<div class="content" id="pantallaInicial">
    <h1 class="titulo">Feliz AÃ±o Nuevo</h1>
    <div class="amor">Amorâœ¨</div>
    <div class="fecha-box">Mi: <strong>24</strong></div>
    <div id="mensaje" class="mensaje oculto">
        Gracias por existir ğŸ’–<br>
        Este aÃ±o tambiÃ©n es contigo âœ¨
    </div>
    <button onclick="activarAmor()">Presiona aquÃ­ ğŸ’•</button>
    <br><br>
    <button id="btnSorpresa">Abrir sorpresa ğŸ’Œ</button>
</div>

<!-- ================= MODAL CONTRASEÃ‘A ================= -->
<div id="modal" class="modal">
    <div class="modal-content">
        <h2>Escribe la contraseÃ±a ğŸ’–</h2>
        <input type="password" id="clave" placeholder="Tu fecha especial">
        <button onclick="validarClave()">Entrar</button>
        <p id="error" style="color:red; display:none;">ContraseÃ±a incorrecta ğŸ˜˜</p>
        <p class="pista">Pista: Nuestro gatito + nuestra fecha</p>
    </div>
</div>

<!-- ================= GALERÃA ================= -->
<div id="sorpresaScreen" class="oculto">
    <h1 class="titulo" style="margin-top: 20px;">ğŸ‰ Nuestra GalerÃ­a ğŸ‰</h1>
    <div id="galeriaContainer">
        <div id="galeria"></div>
    </div>
</div>

<!-- ================= MODAL IMAGEN ================= -->
<div id="imagenModal" class="modal">
    <div class="modal-content">
        <img id="imagenGrande" src="" alt="">
        <p id="fraseGrande"></p>
        <button id="btnSiguiente">Siguiente</button>
        <button onclick="cerrarImagenModal()">Cerrar</button>
    </div>
</div>

<script>
// ================= FUEGOS ARTIFICIALES =================
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth; 
canvas.height = innerHeight;
let fireworks = [];

function crearFuego(){
    const x = Math.random() * canvas.width;
    const y = Math.random() * canvas.height / 2;
    const color = `hsl(${Math.random()*360},100%,60%)`;
    for(let i=0;i<120;i++){
        fireworks.push({
            x, y,
            vx: Math.cos(i) * Math.random() * 6,
            vy: Math.sin(i) * Math.random() * 6,
            alpha: 1,
            color
        });
    }
}

function animarFuegos(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    fireworks.forEach((p,i)=>{
        p.x += p.vx;
        p.y += p.vy;
        p.alpha -= 0.02;
        ctx.beginPath();
        ctx.arc(p.x,p.y,2,0,Math.PI*2);
        ctx.fillStyle = p.color;
        ctx.shadowBlur = 15;
        ctx.shadowColor = p.color;
        ctx.fill();
        if(p.alpha <= 0) fireworks.splice(i,1);
    });
    requestAnimationFrame(animarFuegos);
}

for(let i=0;i<8;i++){ setTimeout(crearFuego, i*400); }
animarFuegos();

// ================= CORAZONES =================
const canvasH = document.getElementById("hearts");
const ctxH = canvasH.getContext("2d");
canvasH.width = innerWidth; 
canvasH.height = innerHeight;
let corazones = [];

function lanzarCorazones(){
    for(let i=0;i<60;i++){
        corazones.push({
            x: Math.random()*canvasH.width,
            y: canvasH.height + Math.random()*100,
            size: Math.random()*20 + 15,
            speed: Math.random()*1.5 + 0.5,
            drift: Math.random()*2 - 1
        });
    }
}

function dibujarCorazon(x,y,size){
    ctxH.fillStyle="rgba(255,80,120,0.9)";
    ctxH.beginPath();
    ctxH.moveTo(x,y);
    ctxH.bezierCurveTo(x-size,y-size,x-size*2,y+size/2,x,y+size*2);
    ctxH.bezierCurveTo(x+size*2,y+size/2,x+size,y-size,x,y);
    ctxH.fill();
}

function animarCorazones(){
    ctxH.clearRect(0,0,canvasH.width,canvasH.height);
    corazones.forEach((c,i)=>{
        c.y -= c.speed;
        c.x += c.drift;
        if(c.y < -50) corazones.splice(i,1);
        dibujarCorazon(c.x,c.y,c.size);
    });
    requestAnimationFrame(animarCorazones);
}

animarCorazones();

function activarAmor(){
    document.getElementById("mensaje").classList.remove("oculto");
    lanzarCorazones();
}

// ================= MODAL Y GALERÃA =================
const btnSorpresa = document.getElementById('btnSorpresa');
const modal = document.getElementById('modal');
const pantallaInicial = document.getElementById('pantallaInicial');
const sorpresaScreen = document.getElementById('sorpresaScreen');

btnSorpresa.addEventListener('click',()=>{
    modal.style.display='flex';
});

function validarClave(){
    const clave = document.getElementById('clave').value;
    const error = document.getElementById('error');
    if(clave === 'leo24'){
        modal.style.display='none';
        pantallaInicial.style.display='none';
        sorpresaScreen.classList.remove('oculto');
        cargarImagenes();
    } else {
        error.style.display='block';
    }
}

// ================= FRASES =================
const frases = [
   "Eres mi felicidad ğŸ’–","Cada momento contigo es mÃ¡gico âœ¨","Gracias por existir ğŸŒ¸","Contigo todo es mejor ğŸ’•",
"Nuestro amor no tiene lÃ­mites ğŸŒ¹","Siempre pienso en ti ğŸŒŸ","Eres mi sol en los dÃ­as nublados â˜€ï¸",
"Te amo hasta el infinito y mÃ¡s allÃ¡ ğŸ’«","Cada sonrisa tuya ilumina mi mundo ğŸ˜Š","Mi corazÃ³n late por ti â¤ï¸",
"Eres mi razÃ³n de sonreÃ­r ğŸ˜˜","Cada dÃ­a contigo es un regalo ğŸ","Tu amor me da fuerza ğŸ’ª","Eres mi lugar feliz ğŸ¡",
"Never dejarÃ© de amarte ğŸ’•","Tu sonrisa es mi paz ğŸŒˆ","Eres la estrella de mi cielo â­","Contigo todo es posible ğŸŒŸ",
"Eres mi sueÃ±o hecho realidad ğŸŒ™","Mi corazÃ³n es tuyo ğŸ’“","Eres mi inspiraciÃ³n diaria ğŸŒ¼","Cada abrazo tuyo es un tesoro ğŸ’",
"Eres mi melodÃ­a favorita ğŸ¶","Contigo quiero todo mi futuro ğŸ•Šï¸","Eres mi refugio seguro ğŸŒ³","Cada instante contigo es eterno â³",
"Tu risa es mÃºsica para mi alma ğŸµ","Eres mi dulce compaÃ±Ã­a ğŸ¬","Siempre serÃ¡s mi persona favorita ğŸ’",
"Contigo aprendÃ­ lo que es amar ğŸ’—","Eres mi luz en la oscuridad ğŸŒŸ","Cada beso tuyo me enamora mÃ¡s ğŸ’‹",
"Eres mi razÃ³n de existir â¤ï¸","Contigo todo es mÃ¡s bonito ğŸŒ¸","Eres mi luna en noches oscuras ğŸŒ™",
"Nunca dejes de ser tÃº ğŸŒ·","Eres mi arcoÃ­ris despuÃ©s de la lluvia ğŸŒˆ","Tu amor me completa ğŸ’","Eres mi paz en tiempos difÃ­ciles ğŸ•Šï¸",
"Cada mirada tuya me derrite ğŸ˜","Eres mi compaÃ±Ã­a favorita ğŸ¾","Contigo aprendÃ­ a soÃ±ar ğŸŒ ","Eres mi aventura mÃ¡s bonita ğŸï¸",
"Cada palabra tuya me alegra ğŸŒ¹","Eres mi razÃ³n de despertar feliz â˜€ï¸","Contigo quiero caminar siempre ğŸ‘£",
"Eres mi refugio de amor ğŸ’–","Cada dÃ­a contigo es especial âœ¨","Eres mi alegrÃ­a diaria ğŸ˜„","Siempre eres mi pensamiento feliz ğŸ’­",
"Eres mi milagro diario ğŸŒŸ","Cada abrazo tuyo me hace sentir en casa ğŸ¡","Eres mi corazÃ³n latente â¤ï¸",
"Contigo aprendÃ­ la verdadera felicidad ğŸ˜Š","Eres mi mejor decisiÃ³n ğŸ’•","Cada momento contigo vale oro ğŸ…",
"Eres mi razÃ³n para creer en el amor ğŸ’—","Contigo todo tiene sentido ğŸŒ€","Eres mi pequeÃ±o gran mundo ğŸŒ",
"Cada sonrisa tuya es mi luz ğŸŒ","Eres mi tesoro escondido ğŸ’","Contigo los dÃ­as grises desaparecen ğŸŒ¦ï¸",
"Eres mi calma en la tormenta ğŸŒŠ","Cada gesto tuyo me enamora ğŸ’–","Eres mi canciÃ³n favorita ğŸµ",
"Contigo quiero todos mis amaneceres ğŸŒ…","Eres mi luna y mi sol ğŸŒ™â˜€ï¸","Cada segundo contigo es eterno â³",
"Eres mi sueÃ±o y mi realidad ğŸŒˆ","Contigo aprendÃ­ lo que es amar de verdad â¤ï¸","Eres mi risa en dÃ­as tristes ğŸ˜„",
"Cada palabra tuya es poesÃ­a ğŸ“–","Eres mi refugio de ternura ğŸ’","Contigo la vida es mÃ¡s dulce ğŸ­",
"Eres mi alegrÃ­a constante ğŸŒŸ","Cada abrazo tuyo es magia âœ¨","Eres mi lugar favorito en el mundo ğŸï¸",
"Contigo quiero todo mi tiempo â°","Eres mi sol despuÃ©s de la lluvia ğŸŒğŸŒ¦ï¸","Cada mirada tuya me enamora ğŸ˜",
"Eres mi razÃ³n de soÃ±ar ğŸŒ™","Contigo aprendÃ­ a volar ğŸ•Šï¸","Eres mi abrazo seguro ğŸ¤—","Cada momento contigo me hace feliz ğŸ’•",
"Eres mi inspiraciÃ³n constante ğŸ’«","Contigo todo es mÃ¡s bonito ğŸŒ¸","Eres mi refugio de amor ğŸ¡","Cada sonrisa tuya me ilumina ğŸŒ",
"Eres mi destino favorito ğŸŒŸ","Contigo quiero caminar por siempre ğŸ‘£","Eres mi paz en el caos ğŸŒ¿","Cada beso tuyo es un regalo ğŸ’‹",
"Eres mi alegrÃ­a diaria ğŸ˜„","Contigo aprendÃ­ el verdadero significado del amor âœ¨","Eres mi luna en noches de estrellas ğŸŒ™â­",
"Cada palabra tuya me hace sonreÃ­r ğŸ˜Š","Eres mi canciÃ³n de amor favorita ğŸ¶","Contigo quiero compartir todos mis sueÃ±os ğŸ’­",
"Eres mi arcoÃ­ris en dÃ­as grises ğŸŒˆ","Cada instante contigo es Ãºnico ğŸ’–","Eres mi razÃ³n de despertar feliz â˜€ï¸",
"Contigo la vida es un cuento de hadas ğŸ°","Eres mi regalo diario ğŸ","Cada gesto tuyo me enamora mÃ¡s ğŸ’—",
"Eres mi alegrÃ­a en cada dÃ­a ğŸŒŸ","Contigo aprendÃ­ el verdadero significado del amor â¤ï¸"
];

// ================= CARGAR IMÃGENES =================
let imagenesArray = [];
let indiceActual = 0;

function cargarImagenes(){
    const galeria = document.getElementById('galeria');
    galeria.innerHTML = "";
    for(let i=1;i<=33;i++){
        const img = document.createElement('img');
        img.src = `${i}.jpeg`;
        img.alt = `Recuerdo ${i}`;
        img.addEventListener('click',()=>abrirImagenModal(i-1));
        galeria.appendChild(img);
        imagenesArray.push(`${i}.jpeg`);
    }
}

// ================= MODAL IMAGEN GRANDE =================
const imagenModal = document.getElementById('imagenModal');
const imagenGrande = document.getElementById('imagenGrande');
const fraseGrande = document.getElementById('fraseGrande');
const btnSiguiente = document.getElementById('btnSiguiente');

function abrirImagenModal(indice){
    indiceActual = indice;
    imagenGrande.src = imagenesArray[indiceActual];
    fraseGrande.textContent = frases[Math.floor(Math.random()*frases.length)];
    imagenModal.style.display='flex';
}

btnSiguiente.addEventListener('click',()=>{
    indiceActual = (indiceActual + 1) % imagenesArray.length;
    imagenGrande.src = imagenesArray[indiceActual];
    fraseGrande.textContent = frases[Math.floor(Math.random()*frases.length)];
});

function cerrarImagenModal(){
    imagenModal.style.display='none';
}

// ================= AJUSTE DE CANVAS =================
window.onresize = ()=>{
    canvas.width = innerWidth; 
    canvas.height = innerHeight;
    canvasH.width = innerWidth; 
    canvasH.height = innerHeight;
};
</script>

</body>
</html>
